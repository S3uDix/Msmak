
<!DOCTYPE html>

<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<title>مسماك الميداني</title>
<style>
  :root{--bg:#0f1115;--card:#151821;--text:#e7e9ee;--muted:#9aa3b2;--accent:#3aa6ff}
  *{box-sizing:border-box} html,body{height:100%}
  body{
    margin:0;
    font-family:system-ui,-apple-system,Segoe UI,Roboto,"Noto Kufi Arabic",Tahoma,Arial,Helvetica;
    font-size:18px;color:var(--text);
    background:url('assets/inline_image_1.webp') center/cover fixed no-repeat;
  }
  header{position:sticky;top:0;z-index:10;background:#0f111580;backdrop-filter:blur(6px);border-bottom:1px solid #202430}
  .wrap{max-width:1100px;margin:0 auto;padding:12px 20px;display:flex;flex-direction:column;gap:14px}
  .header-band{position:relative;height:130px}
  .gif{height:95px;position:absolute;top:50%;transform:translateY(-50%);filter:drop-shadow(0 4px 12px rgba(0,0,0,.35))}
  .gif.right{right:0} .gif.left{left:0}
  .logo-jahez{height:120px;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);filter:drop-shadow(0 4px 12px rgba(0,0,0,.35))}

  .card{
    background:linear-gradient(180deg,#141824ee,#121621f5);
    border:1px solid #23293a;border-radius:16px;
    padding:18px 18px 20px;box-shadow:0 14px 40px #00000055;
  }
  .card h2{margin:0 0 14px;font-size:20px;letter-spacing:.5px}

  .grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
  .grid-1{display:grid;grid-template-columns:1fr;gap:12px}

  .field label{display:block;color:var(--muted);font-size:15px;margin:0 0 6px}
  select,input{width:100%;height:46px;padding:12px 14px;border-radius:12px;border:1px solid #2a3040;background:#0e121a;color:var(--text);font-size:17px}
  select:focus,input:focus{outline:none;border-color:#2e6ac6;box-shadow:0 0 0 2px #2e6ac633}

  .chk-row{display:flex;align-items:center;gap:18px;flex-wrap:wrap;margin-top:6px}
  .chk-pair{display:flex;align-items:center;gap:6px}
  .chk-row input[type=checkbox]{width:20px;height:20px}
  .actions{display:flex;gap:12px;margin-top:12px}
  .actions button{flex:1;height:54px;font-size:18px}
  button{padding:0 16px;border-radius:12px;border:1px solid #2a364a;background:#182030;color:var(--text);cursor:pointer}
  button.primary{background:#124e7a;border-color:#17659f}
  .output{margin-top:10px;padding:14px;border-radius:12px;border:1px dashed #334055;background:#0c1118;min-height:50px;font-weight:600}
  footer{text-align:center;color:#8f9bb0;margin:28px 0 20px}
</style>
<style>
.logo-jahez {
  height: 60px;
  width: auto;
}
</style>
</head>
<body>
<header>
<div class="wrap">
<div class="header-band">
<img alt="right" class="gif right" src="assets/inline_image_2.gif"/>
<img alt="left" class="gif left" src="assets/inline_image_3.gif"/>
<img alt="مسماك الميداني" class="logo-jahez" src="Msmak.png"/>
</div>
</div>
</header>
<main class="wrap">
<section class="card">
<h2>حدد مسماك الميداني</h2>
<div class="grid">
<div class="field">
<label>القيادة</label>
<select id="sel_lead"></select>
</div>
<div class="field">
<label>مسميات الكلية الأمنية</label>
<select id="sel_college"></select>
</div>
</div>
<div class="grid">
<div class="field">
<label>توجيهات الأفراد</label>
<select id="sel_individuals"></select>
</div>
<div class="field">
<label>توجيهات الضباط</label>
<select id="sel_officers"></select>
</div>
</div>
<div class="grid">
<div class="field">
<label>الدورات المفعلة</label>
<select id="sel_activated"></select>
</div>
<div class="field">
<label>الشرطة العسكرية</label>
<select id="sel_milpol"></select>
</div>
</div>
<div class="grid">
<div class="field">
<label>المشتركات</label>
<select id="sel_shared"></select>
</div>
<div class="field">
<label>الكادر النسائي</label>
<select id="sel_female"></select>
</div>
</div>
<div class="grid">
<div class="field">
<label>رتب اللاعب المعتمد إن وجد</label>
<select id="playerRank"></select>
</div>
<div class="field">
<label>رقم توجيهك</label>
<select id="directive"></select>
</div>
</div>
<div class="grid-1">
<div class="field">
<label>كودك أو اسمك فقط في حال كنت بدورة</label>
<input id="code" oninput="this.value = this.value.toUpperCase()" placeholder="اكتب هنا"/>
</div>
</div>
<div class="chk-row">
<div class="chk-pair"><input id="ghafwa" type="checkbox"/><label for="ghafwa">(غفوة)</label></div>
<div class="chk-pair"><input id="sha" type="checkbox"/><label for="sha">(ش.ع)</label></div>
<div class="chk-pair"><input id="buyCar" type="checkbox"/><label for="buyCar">(شراء مركبة)</label></div>
<div class="chk-pair"><input id="rankReceive" type="checkbox"/><label for="rankReceive">(استلام رتبة)</label></div>
<div class="chk-pair"><input id="modifySupply" type="checkbox"/><label for="modifySupply">(تعديل وتزويد)</label></div>
</div>
<div class="actions">
<button class="primary" id="makeName">إظهار الاسم</button>
<button id="copyName">نسخ</button>
<button id="clearName">مسح</button>
</div>
<div class="output" id="nameOut"></div>
</section>
<footer></footer>
</main>
<script>
  // Build lists with "لا يوجد" as the first option
  const withNone = (arr)=>["لا يوجد", ...arr];

  const L_LEAD = withNone(["قائد الامن العام", "نائب قائد الامن العام", "مساعد قائد الامن العام", "نائب مساعد القائد للامن العام", "قائد قوات أمن الطرق", "نائب قائد قوات أمن الطرق", "مساعد قائد قوات أمن الطرق", "قيادة الامن العام", "قيادة امن الطرق", "مدير شؤون التجنيد", "نائب مدير شؤون التجنيد", "مدير الشؤون الإدارية", "نائب مدير الشؤون الإدارية", "مدير الكلية الامنية", "نائب مدير الكلية الأمنية", "مساعد مدير الكلية الامنية"]);
  const L_INDI = withNone(["مركز عمليات الامن العام", "نائب مركز عمليات الامن العام", "مركز عمليات امن الطرق", "نائب مركز عمليات امن الطرق", "سين", "باء", "لام", "جيم", "دال"]);
  const L_OFFI = withNone(["جنوب", "غرب" , "شمال" , "ساهر", "عزم", "سير", "رصد", "سهم", "سيف", "درع"]);
  const L_ACT  = withNone(["رعد", "شهاب",  "برق", "خفر", "امن", "ساحل", "ردع", "مسؤول نقاط تحكم", "مسؤول تحكم", "تحكم", "صد", "ضبط", "ميم", "سري", "نقل سجون", "حماية","مكافحة", "جنائي", "حزم", "مسؤول الفرقة حزم", "نائب مسؤول الفرقة حزم", "رمح", "مسؤول الحملة", "وحدة اسماك", "وحدة اعناب", "وحدة اخشاب", "وحدة معادن",  "وحدة نفط وغاز", "وحدة دواجن", "وحدة شاحنات لوس", "وحدة شاحنات الساحل", "وحدة شاحنات الجزيرة"]);
  const L_MP   = withNone(["الشرطة العسكرية", "مسؤول الشرطة العسكرية", "رئاسة الشرطة العسكرية"]);
  const L_SHR  = withNone(["م سين", "م باء", "م لام", "م جيم", "م دال", "م جنوب", "م غرب", "م ساهر", "م عزم", "م سير", "م رصد", "م سهم", "م درع", "م قيادة"]);
  const L_FEM  = withNone(["مسؤولة الكادر النسائي", "نائب مسؤولة الكادر النسائي"]);
  const L_COL  = withNone(["مسؤول دورة العمليات", "نائب مسؤول دورة العمليات", "اشراف عام دورة العمليات", "مدرب دورة العمليات", "مسؤول دورة نقل السجون", "نائب مسؤول دورة نقل السجون", "اشراف عام دورة نقل السجون", "مدرب دورة نقل السجون", "مسؤول دورة المهام والواجبات الخاصة", "نائب مسؤول دورة المهام والواجبات الخاصة", "اشراف عام دورة المهام والواجبات الخاصة", "مدرب دورة المهام والواجبات الخاصة", "مسؤول دورة مكافحة المخدرات", "نائب مسؤول دورة مكافحة المخدرات", "اشراف عام دورة مكافحة المخدرات", "مدرب دورة مكافحة المخدرات", "مسؤول دورة الدعم الجوي", "نائب مسؤول دورة الدعم الجوي", "اشراف عام دورة الدعم الجوي", "مدرب دورة الدعم الجوي", "مسؤول دورة شعبة المرور", "نائب مسؤول دورة شعبة المرور", "اشراف عام دورة شعبة المرور", "مدرب دورة شعبة المرور", "مسؤول دورة السوات", "نائب مسؤول دورة السوات", "اشراف عام دورة السوات", "مدرب دورة السوات", "مسؤول دورة الصاعقة", "نائب مسؤول دورة الصاعقة", "اشراف عام دورة الصاعقة", "مدرب دورة الصاعقة"]);

  const DIRECTIVES = ["لا يوجد", ...Array.from({length:29},(_,i)=> (i+1).toString())];
  const PLAYER_RANKS = ["لا يوجد","CD","CC","CB","CA"];

  const $ = s => document.querySelector(s);
  function fill(id, arr){
    const el = document.querySelector(id);
    el.innerHTML = "";
    arr.forEach(v => { const o = document.createElement('option'); o.value=v; o.textContent=v; el.appendChild(o); });
  }

  fill("#sel_lead", L_LEAD);
  fill("#sel_individuals", L_INDI);
  fill("#sel_officers", L_OFFI);
  fill("#sel_activated", L_ACT);
  fill("#sel_milpol", L_MP);
  fill("#sel_shared", L_SHR);
  fill("#sel_female", L_FEM);
  fill("#sel_college", L_COL);
  fill("#directive", DIRECTIVES);
  fill("#playerRank", PLAYER_RANKS);

  const nameOut = document.querySelector("#nameOut");
  document.querySelector("#makeName").onclick = ()=>{
    const picks = [
      document.querySelector("#sel_lead").value,
      document.querySelector("#sel_individuals").value,
      document.querySelector("#sel_officers").value,
      document.querySelector("#sel_activated").value,
      document.querySelector("#sel_milpol").value,
      document.querySelector("#sel_shared").value,
      document.querySelector("#sel_female").value,
      document.querySelector("#sel_college").value
    ].filter(v=> v && v !== "لا يوجد");


// --- Compose result robustly ---
    let result = "";

    // player rank first if present
    const pr = document.querySelector("#playerRank").value;
    if (pr && pr !== "لا يوجد") result = pr;

    // code/name is required
    const code = document.querySelector("#code").value.trim();
    if (!code) { alert("يجب إدخال كودك"); return; }
    result += (result ? " | " : "") + code;

    // require at least one pick selected (not "لا يوجد")
    const pickValues = [
      document.querySelector("#sel_lead").value,
      document.querySelector("#sel_individuals").value,
      document.querySelector("#sel_officers").value,
      document.querySelector("#sel_activated").value,
      document.querySelector("#sel_milpol").value,
      document.querySelector("#sel_shared").value,
      document.querySelector("#sel_female").value,
      document.querySelector("#sel_college").value
    ];
    const anyPick = pickValues.some(v=> v && v !== "لا يوجد");
    if (!anyPick) { alert("يجب اختيار مسمى ميداني"); return; }

    // tawjeeh + directive number (with one space between)
    const mainPick = pickValues.find(v=> v && v !== "لا يوجد") || "";
    const dirNum = document.querySelector("#directive").value;
    let tawjeeh = "";
    if (mainPick) tawjeeh = mainPick;
    if (dirNum && dirNum !== "لا يوجد") tawjeeh += (tawjeeh ? " " : "") + dirNum;
    if (tawjeeh) result += (result ? " | " : "") + tawjeeh;

    // flags at the end
    if (document.querySelector("#ghafwa").checked) result += " (غفوة)";
    if (document.querySelector("#sha").checked)    result += " (ش.ع)";
    if (document.querySelector("#buyCar").checked) result += " (شراء مركبة)";
    if (document.querySelector("#rankReceive").checked) result += " (استلام رتبة)";
    if (document.querySelector("#modifySupply").checked) result += " (تعديل وتزويد)";

    nameOut.textContent = result;
  };

  document.querySelector("#copyName").onclick = async ()=>{
    await navigator.clipboard.writeText(nameOut.textContent || "");
    document.querySelector("#copyName").textContent = "تم النسخ ✓";
    setTimeout(()=>document.querySelector("#copyName").textContent="نسخ",1200);
  };

  document.querySelector("#clearName").onclick = ()=>{
    nameOut.textContent=""; document.querySelector("#code").value="";
    ['sha','ghafwa','buyCar','rankReceive','modifySupply'].forEach(id=>document.getElementById(id).checked=false);
    ['#sel_lead','#sel_individuals','#sel_officers','#sel_activated','#sel_milpol','#sel_shared','#sel_female','#sel_college','#directive','#playerRank'].forEach(s=>document.querySelector(s).selectedIndex=0);
  };
</script>
</body>
</html>
